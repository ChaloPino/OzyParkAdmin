@using OzyParkAdmin.Infrastructure.Layout
@inject LayoutService LayoutService

<MudTooltip Text="@ThemeText">
    <MudMenu Color="Color.Inherit" 
             Icon="@ThemeIcon"
             AnchorOrigin="Origin.BottomCenter"
             TransformOrigin="Origin.BottomLeft">
        <MudMenuItem Icon="@Icons.Material.Rounded.AutoMode" Disabled="LayoutService.CurrentModeIsSystem" OnClick="() => LayoutService.ChangeDarkLightModel(DarkLightMode.System)">Sistema</MudMenuItem>
        <MudMenuItem Icon="@Icons.Material.Outlined.DarkMode" Disabled="LayoutService.CurrentModeIsDark" OnClick="() => LayoutService.ChangeDarkLightModel(DarkLightMode.Dark)">Modo obscuro</MudMenuItem>
        <MudMenuItem Icon="@Icons.Material.Filled.LightMode" Disabled="LayoutService.CurrentModeIsLight" OnClick="() => LayoutService.ChangeDarkLightModel(DarkLightMode.Light)">Modo claro</MudMenuItem>
    </MudMenu>
</MudTooltip>

@code {
    public string ThemeIcon => LayoutService.CurrentDarkLigntMode switch
    {
        DarkLightMode.Dark => Icons.Material.Outlined.DarkMode,
        DarkLightMode.Light => Icons.Material.Filled.LightMode,
        _ => Icons.Material.Rounded.AutoMode,
    };

    public string ThemeText => LayoutService.CurrentDarkLigntMode switch
    {
        DarkLightMode.Dark => "Modo obscuro",
        DarkLightMode.Light => "Modo claro",
        _ => "Sistema",
    };
}
